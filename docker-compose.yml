version: '3.6'
services:
  daemon:
    image: grimkriegor/darkhttpd
    command:
      - --no-listing
    volumes:
      - ${HTTP_VOLUME_DATA:-./volumes/data}:/var/www/htdocs
    networks:
      - web
    deploy:
      labels:
        - "traefik.enable=true"
        - "traefik.docker.network=web"
        - "traefik.port=80"
        - "traefik.main.frontend.rule=Host:${HTTP_CONF_URL:-www.domain.com}"
        - "traefik.main.frontend.port=80"
        - "traefik.aux.frontend.rule=Host:${HTTP_CONF_URL_AUX:-www.domain.com}"
        - "traefik.aux.frontend.port=80"
networks:
  web:
    external: true

